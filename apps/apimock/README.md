# FleetData API Mock

Provides a mock for the fleet data http resource API. It tries to stay as dumb as possible, 
so it does not implement any business logic, but conforms to the OpenAPI schema of our API. 

## Test Data

The mock delivers all test data located in the `data/` directory. For the loadtester account, 
some test data (especially vehicles) is generated by templates. 

## Build  & Run

```
./gradlew bootRun
```

Base URL: `http://localhost:4042`

## Authenticate

The service supports OAuth2. There is a /api/login endpoint that expects username and 
password and returns an authentication token plus setting a cookie. 

```
curl --request POST \
  --url ${host}/api/login \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --data 'username=admin&password=password'
```

To authenticate applications, use the /oauth/token endpoint.

```
curl --request POST \
  --url ${host}/oauth/token \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --data 'grant_type=client_credentials&client_id=${client_uuid}&client_secret=${client_secret}'
```


## Current Limitations
- CSV upload/donwload is not supported
- User roles are not considered (except car park admins)
- WebSockets are not supported
- Data that is not added via `data/` directory (e.g. through POST requests) is only kept in memory and lost on restart 